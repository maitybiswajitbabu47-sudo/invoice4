
<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <title>‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶á‡¶§‡¶ø ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ - ‡¶∏‡ßç‡¶Æ‡¶æ‡¶∞‡ßç‡¶ü ‡¶á‡¶®‡¶≠‡¶Ø‡¶º‡ßá‡¶∏</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;700&display=swap');
        body { font-family: 'Noto Sans Bengali', sans-serif; background: #f0f2f5; padding: 20px; }
        .invoice-box {
            max-width: 800px; margin: auto; padding: 30px; 
            background: white; border-radius: 8px; position: relative;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1); overflow: hidden;
        }
        .watermark {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            opacity: 0.05; width: 350px; pointer-events: none; z-index: 0;
        }
        .header { text-align: center; border-bottom: 3px solid #000080; padding-bottom: 10px; margin-bottom: 20px; position: relative; z-index: 1; }
        .header h1 { color: #d32f2f; margin: 0; font-size: 32px; }
        .details { display: flex; justify-content: space-between; margin-bottom: 20px; z-index: 1; position: relative; }
        table { width: 100%; border-collapse: collapse; margin-top: 15px; z-index: 1; position: relative; }
        th { background: #000080; color: white; padding: 12px; border: 1px solid #ddd; }
        td { padding: 10px; border: 1px solid #ddd; text-align: center; }
        input { border: 1px solid #ccc; padding: 5px; border-radius: 3px; width: 90%; font-family: inherit; }
        .total-area { text-align: right; margin-top: 20px; font-size: 22px; font-weight: bold; color: #000080; }
        
        /* QR Code Section */
        .payment-qr { text-align: left; margin-top: 20px; }
        .qr-box { border: 1px solid #ddd; padding: 10px; display: inline-block; text-align: center; border-radius: 5px; }
        .qr-box img { width: 120px; height: 120px; }

        .footer-sign { margin-top: 40px; display: flex; justify-content: space-between; font-weight: bold; }
        .btn { padding: 10px 20px; cursor: pointer; border-radius: 5px; border: none; font-weight: bold; color: white; transition: 0.3s; }
        .btn-add { background: #28a745; margin-top: 10px; }
        .btn-print { background: #000080; width: 100%; font-size: 18px; margin-top: 25px; }
        
        @media print { 
            .no-print { display: none; } 
            body { background: white; padding: 0; }
            .invoice-box { box-shadow: none; border: none; max-width: 100%; } 
            input { border: none; background: transparent; }
            table.items th { background: #000080 !important; color: white !important; -webkit-print-color-adjust: exact; }
        }
    </style>
</head>
<body>

<div class="invoice-box">
    <svg class="watermark" viewBox="0 0 24 24" fill="black"><path d="M17 1.01L7 1C5.9 1 5 1.9 5 3V21C5 22.1 5.9 23 7 23H17C18.1 23 19 22.1 19 21V3C19 1.9 18.1 1.01 17 1.01ZM17 19H7V5H17V19Z"/></svg>

    <div class="header">
        <h1>‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶á‡¶§‡¶ø ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤</h1>
        <p>‡¶Æ‡ßã‡¶π‡¶®‡¶™‡ßÅ‡¶∞, ‡¶™‡¶∂‡ßç‡¶ö‡¶ø‡¶Æ ‡¶Æ‡ßá‡¶¶‡¶ø‡¶®‡ßÄ‡¶™‡ßÅ‡¶∞ (‡¶∂‡ßç‡¶Ø‡¶æ‡¶Æ‡¶¨‡¶æ‡¶ó ‡¶ú‡ßÅ‡¶®‡¶ø‡¶Ø‡¶º‡¶∞ ‡¶π‡¶æ‡¶á ‡¶∏‡ßç‡¶ï‡ßÅ‡¶≤‡ßá‡¶∞ ‡¶∏‡¶æ‡¶Æ‡¶®‡ßá)</p>
        <p>üìû 8768465371, 8927895736</p>
    </div>

    <div class="details">
        <div>
            <strong>‡¶ï‡ßç‡¶∞‡ßá‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ:</strong> <input type="text" placeholder="‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®"><br><br>
            <strong>‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤:</strong> <input type="text" placeholder="‡¶®‡¶Æ‡ßç‡¶¨‡¶∞">
        </div>
        <div style="text-align: right;">
            <strong>‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ:</strong> <input type="date" id="date"><br><br>
            <strong>‡¶¨‡¶ø‡¶≤ ‡¶®‡¶Ç:</strong> <input type="text" value="SMM-101" style="width: 80px; text-align: right;">
        </div>
    </div>

    <table id="billTable">
        <thead>
            <tr>
                <th>‡¶™‡¶£‡ßç‡¶Ø‡ßá‡¶∞ ‡¶¨‡¶ø‡¶¨‡¶∞‡¶£ (Model/IMEI)</th>
                <th>‡¶¶‡¶æ‡¶Æ (Price)</th>
                <th>‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£</th>
                <th>‡¶Æ‡ßã‡¶ü</th>
                <th class="no-print">‡¶Æ‡ßÅ‡¶õ‡ßÅ‡¶®</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <button class="btn btn-add no-print" onclick="addRow()">+ ‡¶®‡¶§‡ßÅ‡¶® ‡¶Ü‡¶á‡¶ü‡ßá‡¶Æ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</button>

    <div class="total-area">‡¶∏‡¶∞‡ßç‡¶¨‡¶Æ‡ßã‡¶ü ‡¶ü‡¶æ‡¶ï‡¶æ: ‚Çπ <span id="grandTotal">0</span> /-</div>

    <div style="display: flex; justify-content: space-between; align-items: flex-end;">
        <div class="payment-qr">
            <div class="qr-box">
                <p style="margin: 0 0 5px 0; font-size: 12px;">‡¶∏‡ßç‡¶ï‡ßç‡¶Ø‡¶æ‡¶® ‡¶ï‡¶∞‡ßá ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                <img id="qrImage" src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=upi://pay?pa=8768465371@ybl&pn=Star Maity Mobile&cu=INR" alt="QR Code">
                <p style="margin: 5px 0 0 0; font-size: 11px; font-weight: bold;">UPI ID: 8768465371@ybl</p>
            </div>
        </div>

        <div class="footer-sign">
            <div style="text-align: center;">
                <p>___________________</p>
                <p>‡¶Æ‡¶æ‡¶≤‡¶ø‡¶ï‡ßá‡¶∞ ‡¶∏‡ßç‡¶¨‡¶æ‡¶ï‡ßç‡¶∑‡¶∞</p>
            </div>
        </div>
    </div>
</div>

<button class="btn btn-print no-print" onclick="window.print()">PDF ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶¨‡¶æ ‡¶™‡ßç‡¶∞‡¶ø‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</button>

<script>
    document.getElementById('date').valueAsDate = new Date();

    function addRow() {
        const tbody = document.querySelector('#billTable tbody');
        const tr = document.createElement('tr');
        tr.innerHTML = `
            <td><input type="text" placeholder="‡¶Ø‡ßá‡¶Æ‡¶®: Vivo V29 (IMEI...)"></td>
            <td><input type="number" class="p" oninput="updateTotal()" placeholder="0"></td>
            <td><input type="number" class="q" oninput="updateTotal()" value="1"></td>
            <td class="r">0</td>
            <td class="no-print"><button onclick="this.parentElement.parentElement.remove();updateTotal()" style="background:#ff4d4d; color:white; border:none; border-radius:3px; padding: 5px 10px; cursor:pointer">X</button></td>
        `;
        tbody.appendChild(tr);
    }

    function updateTotal() {
        let grandTotal = 0;
        document.querySelectorAll('#billTable tbody tr').forEach(row => {
            const price = parseFloat(row.querySelector('.p').value) || 0;
            const qty = parseFloat(row.querySelector('.q').value) || 0;
            const rowSum = price * qty;
            row.querySelector('.r').innerText = rowSum;
            grandTotal += rowSum;
        });
        document.getElementById('grandTotal').innerText = grandTotal;
        
        // QR ‡¶ï‡ßã‡¶° ‡¶Ü‡¶™‡¶°‡ßá‡¶ü (‡¶ü‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£ ‡¶∏‡¶π)
        const upiId = "8768465371@ybl"; // ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ü‡¶∏‡¶≤ UPI ID ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶¶‡¶ø‡¶®
        const name = "Star Maity Mobile";
        const qrUrl = `https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=upi://pay?pa=${upiId}&pn=${name}&am=${grandTotal}&cu=INR`;
        document.getElementById('qrImage').src = qrUrl;
    }

    // ‡¶∂‡ßÅ‡¶∞‡ßÅ‡¶§‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ñ‡¶æ‡¶≤‡¶ø ‡¶∞‡ßã ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ
    addRow();
</script>
</body>
</html>